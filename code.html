<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive code terminal - Explore Thomas Becannon's projects">
    <title>Code | Thomas Becannon</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’»</text></svg>">

    <style>
        .terminal {
            background-color: #0d0d0d;
            color: #00ff9c;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: monospace;
            font-size: 1rem;
            max-width: 1100px;
            margin: 3rem auto;
            min-height: 420px;
            border: 1px solid #222;
        }

        .line {
            white-space: pre-wrap;
        }

        .prompt {
            color: #00ff9c;
        }

        input {
            background: none;
            border: none;
            color: #00ff9c;
            font-family: monospace;
            font-size: 1rem;
            outline: none;
            width: 90%;
        }
    </style>
</head>
<body>

<nav>
    <div class="nav-inner">
        <a href="index.html">Home</a>
        <a href="resume.html">Resume</a>
        <a href="code.html">Code</a>
    </div>
</nav>

<div class="terminal" id="terminal">
    <div class="line">Thomas Becannon â€” Code Terminal</div>
    <div class="line">Type <strong>help</strong> to see available commands.</div>
    <br>
    <div class="line">
        <span class="prompt">$</span>
        <input type="text" id="commandInput" autofocus>
    </div>
</div>

<script>
const terminal = document.getElementById("terminal");
const input = document.getElementById("commandInput");

const commands = {
    help: () => [
        "Available commands:",
        "  help        Show this message",
        "  ls          List projects",
        "  projects    Same as ls",
        "  open <name> Open project info",
        "  clear       Clear the terminal"
    ],

    ls: () => [
        "whack-a-mole",
        "ipc-game",
        "more-coming-soon"
    ],

    projects: () => commands.ls(),

    open: (arg) => {
        if (!arg) return ["Usage: open <project-name>"];

        if (arg === "whack-a-mole") {
            return [
                "Whack-A-Mole (C)",
                "Terminal-based game using ncurses library.",
                "Features: Real-time gameplay, scoring, responsive controls",
                "Tech: C, ncurses, game loop design",
                "GitHub: https://github.com/tbecannon/whack-a-mole"
            ];
        }

        if (arg === "ipc-game") {
            return [
                "Multi-Process IPC Game",
                "Demonstrates inter-process communication patterns.",
                "Uses fork, exec, pipes for process management",
                "Tech: C, Unix/Linux, IPC mechanisms",
                "GitHub: https://github.com/tbecannon/ipc-game"
            ];
        }

        return [`Project not found: ${arg}`];
    }
};

input.addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
        const value = input.value.trim();
        input.value = "";

        printLine(`$ ${value}`);

        if (value === "") return;

        if (value === "clear") {
            terminal.innerHTML = "";
            return;
        }

        const [cmd, ...args] = value.split(" ");
        const handler = commands[cmd];

        if (!handler) {
            printLine(`Command not found: ${cmd}`);
        } else {
            const output = handler(args.join(" "));
            output.forEach(line => printLine(line));
        }

        newPrompt();
    }
});

function printLine(text) {
    const div = document.createElement("div");
    div.className = "line";
    div.textContent = text;
    terminal.insertBefore(div, input.parentElement);
}

function newPrompt() {
    terminal.scrollTop = terminal.scrollHeight;
}
</script>

<footer>
    <p>&copy; 2026 Thomas Becannon. Built with care and attention to detail.</p>
</footer>

</body>
</html>
